"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[67],{23970:function(y,M,_){var f=_(48305),E=_.n(f),h=_(50959),s=_(69012),l=_(1442),D=_(66838),u=_(62698),e=_(11527),t=function(O){var n=O.imageUrl,m=O.setImageUrl,P=(0,h.useState)(!1),I=E()(P,2),o=I[0],A=I[1],v=function(C){if(C.file.status==="uploading"){A(!0);return}C.file.status==="done"&&(m(C.file.response.data),A(!1))},j=(0,e.jsxs)("div",{children:[o?(0,e.jsx)(s.Z,{}):(0,e.jsx)(l.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(D.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,headers:{token:(0,u.LP)()},action:u.P_,onChange:v,children:n?(0,e.jsx)("img",{src:(0,u.w0)(n),alt:"avatar",style:{width:"100%"}}):j})})};M.Z=t},30597:function(y,M,_){_.r(M);var f=_(26068),E=_.n(f),h=_(90228),s=_.n(h),l=_(87999),D=_.n(l),u=_(48305),e=_.n(u),t=_(50959),T=_(54885),O=_(77097),n=_(56249),m=_(25283),P=_(1536),I=_(21720),o=_(14292),A=_(53739),v=_(55641),j=_(23777),b=_(83011),C=_(1442),g=_(44633),V=_(23970),a=_(11527);function Y(){var J=(0,t.useState)(!1),S=e()(J,2),K=S[0],U=S[1],Q=(0,t.useState)(""),x=e()(Q,2),X=x[0],Z=x[1],k=(0,t.useState)(""),F=e()(k,2),r_=F[0],q=F[1],__=(0,t.useState)(""),$=e()(__,2),G=$[0],z=$[1],e_=(0,t.useState)([]),w=e()(e_,2),H=w[0],N=w[1],B=(0,t.useRef)(),a_=T.A.useForm(),n_=e()(a_,1),W=n_[0],t_=[{title:"\u5E8F\u53F7",hideInSearch:!0,render:function(d,r,i){return i+1}},{title:"\u540D\u5B57",hideInSearch:!0,dataIndex:"name",fieldProps:{name:"name"}},{title:"\u64CD\u4F5C",hideInSearch:!0,width:100,render:function(d,r){return(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(A.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664?",onConfirm:D()(s()().mark(function i(){var p;return s()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,g.aR)(r.id);case 2:(p=B.current)===null||p===void 0||p.reload();case 3:case"end":return L.stop()}},i)})),children:(0,a.jsx)(v.ZP,{type:"primary",danger:!0,size:"small",icon:(0,a.jsx)(j.Z,{})})}),(0,a.jsx)(v.ZP,{type:"primary",size:"small",icon:(0,a.jsx)(b.Z,{}),onClick:function(){W.setFieldsValue(r),z(r.id),U(!0)}})]})}}];return(0,t.useEffect)(function(){K||(W.resetFields(),z(""),N([]),Z(""),q(""))},[K]),(0,a.jsxs)(O._z,{children:[(0,a.jsx)(n.Z,{bordered:!0,size:"small",columns:t_,request:g.kD,actionRef:B,tableAlertRender:!1,toolBarRender:function(){return[(0,a.jsx)(v.ZP,{icon:(0,a.jsx)(C.Z,{}),onClick:function(){return U(!0)}},1),(0,a.jsx)(A.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664?",onConfirm:D()(s()().mark(function d(){var r;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,g.Ln)(H.join(","));case 2:(r=B.current)===null||r===void 0||r.reload();case 3:case"end":return p.stop()}},d)})),children:(0,a.jsx)(v.ZP,{type:"primary",danger:!0,style:{display:H.length>0?"":"none"},children:"\u6279\u91CF\u5220\u9664"})},2)]},rowKey:"id",rowSelection:{onChange:function(d){N(d)}}}),(0,a.jsxs)(m.Y,{form:W,open:K,onOpenChange:U,title:"\u7F16\u8F91",onFinish:function(){var R=D()(s()().mark(function d(r){var i;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!G){c.next=5;break}return c.next=3,(0,g.G_)(G,E()({},r));case 3:c.next=7;break;case 5:return c.next=7,(0,g.EA)(E()({},r));case 7:U(!1),(i=B.current)===null||i===void 0||i.reload();case 9:case"end":return c.stop()}},d)}));return function(d){return R.apply(this,arguments)}}(),children:[(0,a.jsx)(P.Z,{label:"\u540D\u5B57",name:"name",rules:[{required:!0,message:"\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,a.jsx)(I.Z,{label:"\u4E3B\u56FE",children:(0,a.jsx)(V.Z,{imageUrl:X,setImageUrl:Z})})]})]})}M.default=Y},44633:function(y,M,_){_.d(M,{EA:function(){return e},G_:function(){return t},Ln:function(){return O},aR:function(){return T},kD:function(){return D}});var f=_(90228),E=_.n(f),h=_(87999),s=_.n(h),l=_(11805);function D(n){return u.apply(this,arguments)}function u(){return u=s()(E()().mark(function n(m){var P;return E()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,l.request)("/api/v1/article_categories",{method:"GET",params:{page:m.current,per:m.pageSize}});case 2:return P=o.sent,o.abrupt("return",{data:P.data.list,success:!0,total:P.data.total});case 4:case"end":return o.stop()}},n)})),u.apply(this,arguments)}function e(n){return(0,l.request)("/api/v1/article_categories",{method:"POST",data:n})}function t(n,m){return(0,l.request)("/api/v1/article_categories/"+n,{method:"PATCH",data:m})}function T(n){return(0,l.request)("/api/v1/article_categories/"+n,{method:"DELETE"})}function O(n){return(0,l.request)("/api/v1/article_categories/remove_many",{method:"DELETE",params:{ids:n}})}}}]);
